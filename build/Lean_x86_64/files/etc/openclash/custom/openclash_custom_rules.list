script:
##  shortcuts:
##    Notice: The core timezone is UTC
##    CST 20:00-24:00 = time.now().hour > 12 and time.now().hour < 16
##    å†…æ ¸æ—¶åŒºä¸ºUTC,æ•…ä»¥ä¸‹time.now()å‡½æ•°çš„å–å€¼éœ€è¦æ ¹æ®æœ¬åœ°æ—¶åŒºè¿›è¡Œè½¬æ¢
##    åŒ—äº¬æ—¶é—´(CST) 20:00-24:00 = time.now().hour > 12 and time.now().hour < 16
##    quic: network == 'udp' and dst_port == 443 and (geoip(resolve_ip(host)) != 'CN' or geoip(dst_ip) != 'CN')
##    time-limit: in_cidr(src_ip,'192.168.1.2/32') and time.now().hour < 20 or time.now().hour > 21
##    time-limit: src_ip == '192.168.1.2' and time.now().hour < 20 or time.now().hour > 21

##  code: |
##    def main(ctx, metadata):
##        directkeywordlist = ["baidu"]
##        for directkeyword in directkeywordlist:
##          if directkeyword in metadata["host"]:
##            ctx.log('[Script] matched keyword %s use direct' % directkeyword)
##            return "DIRECT"

rules:
##- SCRIPT,quic,REJECT #shortcuts rule
##- SCRIPT,time-limit,REJECT #shortcuts rule

##- PROCESS-NAME,curl,DIRECT #åŒ¹é…è·¯ç”±è‡ªèº«è¿›ç¨‹(curlç›´è¿)
##- DOMAIN-SUFFIX,google.com,Proxy #åŒ¹é…åŸŸååç¼€(äº¤ç”±Proxyä»£ç†æœåŠ¡å™¨ç»„)
##- DOMAIN-KEYWORD,google,Proxy #åŒ¹é…åŸŸåå…³é”®å­—(äº¤ç”±Proxyä»£ç†æœåŠ¡å™¨ç»„)
##- DOMAIN,google.com,Proxy #åŒ¹é…åŸŸå(äº¤ç”±Proxyä»£ç†æœåŠ¡å™¨ç»„)
##- DOMAIN-SUFFIX,ad.com,REJECT #åŒ¹é…åŸŸååç¼€(æ‹’ç»)
##- IP-CIDR,127.0.0.0/8,DIRECT #åŒ¹é…æ•°æ®ç›®æ ‡IP(ç›´è¿)
##- SRC-IP-CIDR,192.168.1.201/32,DIRECT #åŒ¹é…æ•°æ®å‘èµ·IP(ç›´è¿)
##- DST-PORT,80,DIRECT #åŒ¹é…æ•°æ®ç›®æ ‡ç«¯å£(ç›´è¿)
##- SRC-PORT,7777,DIRECT #åŒ¹é…æ•°æ®æºç«¯å£(ç›´è¿)

##æ’åºåœ¨ä¸Šçš„è§„åˆ™ä¼˜å…ˆç”Ÿæ•ˆ,å¦‚æ·»åŠ ï¼ˆå»é™¤è§„åˆ™å‰çš„#å·ï¼‰ï¼š
##IPæ®µï¼š192.168.1.2-192.168.1.200 ç›´è¿
##- SRC-IP-CIDR,192.168.1.2/31,DIRECT
##- SRC-IP-CIDR,192.168.1.4/30,DIRECT
##- SRC-IP-CIDR,192.168.1.8/29,DIRECT
##- SRC-IP-CIDR,192.168.1.16/28,DIRECT
##- SRC-IP-CIDR,192.168.1.32/27,DIRECT
##- SRC-IP-CIDR,192.168.1.64/26,DIRECT
##- SRC-IP-CIDR,192.168.1.128/26,DIRECT
##- SRC-IP-CIDR,192.168.1.192/29,DIRECT
##- SRC-IP-CIDR,192.168.1.200/32,DIRECT

##IPæ®µï¼š192.168.1.202-192.168.1.255 ç›´è¿
##- SRC-IP-CIDR,192.168.1.202/31,DIRECT
##- SRC-IP-CIDR,192.168.1.204/30,DIRECT
##- SRC-IP-CIDR,192.168.1.208/28,DIRECT
##- SRC-IP-CIDR,192.168.1.224/27,DIRECT

##æ­¤æ—¶IPä¸º192.168.1.1å’Œ192.168.1.201çš„å®¢æˆ·ç«¯æµé‡èµ°ä»£ç†ï¼ˆç­–ç•¥ï¼‰ï¼Œå…¶ä½™å®¢æˆ·ç«¯ä¸èµ°ä»£ç†
##å› ä¸ºFake-IPæ¨¡å¼ä¸‹ï¼ŒIPåœ°å€ä¸º192.168.1.1çš„è·¯ç”±å™¨è‡ªèº«æµé‡å¯èµ°ä»£ç†ï¼ˆç­–ç•¥ï¼‰ï¼Œæ‰€ä»¥éœ€è¦æ’é™¤

##ä»…è®¾ç½®è·¯ç”±å™¨è‡ªèº«ç›´è¿ï¼š
##- SRC-IP-CIDR,192.168.1.1/32,DIRECT
##- SRC-IP-CIDR,198.18.0.1/32,DIRECT

##DDNS
##- DOMAIN-SUFFIX,checkip.dyndns.org,DIRECT
##- DOMAIN-SUFFIX,checkipv6.dyndns.org,DIRECT
##- DOMAIN-SUFFIX,checkip.synology.com,DIRECT
##- DOMAIN-SUFFIX,ifconfig.co,DIRECT
##- DOMAIN-SUFFIX,api.myip.com,DIRECT
##- DOMAIN-SUFFIX,ip-api.com,DIRECT
##- DOMAIN-SUFFIX,ipapi.co,DIRECT
##- DOMAIN-SUFFIX,ip6.seeip.org,DIRECT
##- DOMAIN-SUFFIX,members.3322.org,DIRECT

##åœ¨çº¿IPæ®µè½¬CIDRåœ°å€ï¼šhttp://ip2cidr.com



##########################################################################################
##########################################################################################


##åŸŸåé»‘åå•/å¼ºåˆ¶èµ°ä»£ç†çš„åŸŸå/ä»£ç†åˆ—è¡¨
##- DOMAIN-SUFFIX,google.com,Proxy #åŒ¹é…åŸŸååç¼€(äº¤ç”±Proxyä»£ç†æœåŠ¡å™¨ç»„)
# ==========è‡ªå®šä¹‰è§„åˆ™==========
- DOMAIN-SUFFIX,api.telegram.org,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,rizonesoft.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,cordcloud.one,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,namecheap.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,555dianying.cc,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,apkpure.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,time.android.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,wangzi.uk,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,telegra.ph,ğŸš€ èŠ‚ç‚¹é€‰æ‹©

# ==========å¾®è½¯TTSè§„åˆ™==========
- DOMAIN-SUFFIX,eastus.tts.speech.microsoft.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©

# ==========å¾®è½¯New Bingè§„åˆ™==========
- DOMAIN-SUFFIX,bing.com,ğŸ’¬ Aiå¹³å°
- DOMAIN-SUFFIX,bingapis.com,ğŸ’¬ Aiå¹³å°
- DOMAIN-SUFFIX,edge.microsoft.com,ğŸ’¬ Aiå¹³å°

# ==========TMM==========
- DOMAIN-SUFFIX,tmdb.org,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,themoviedb.org,ğŸš€ èŠ‚ç‚¹é€‰æ‹©

# ==========Dockerè§„åˆ™==========
- DOMAIN-SUFFIX,gcr.io,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,quay.io,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,ghcr.io,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,k8s.gcr.io,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,docker.io,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,docker.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©

# ==========GitHub==========
- DOMAIN-SUFFIX,github.io,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,github.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,githubstatus.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,githubassets.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,github.community,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,github.map.fastly.net,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,githubusercontent.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,github-com.s3.amazonaws.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,github.global.ssl.fastly.net,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,github-cloud.s3.amazonaws.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,github-production-user-asset-6210df.s3.amazonaws.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,github-production-release-asset-2e65be.s3.amazonaws.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,github-production-repository-file-5c1aeb.s3.amazonaws.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©

# ==========è°·æ­Œè§„åˆ™==========
- DOMAIN-SUFFIX,youtube.com,ğŸ“¹ æ²¹ç®¡è§†é¢‘
- DOMAIN-SUFFIX,google.com,ğŸ“¹ æ²¹ç®¡è§†é¢‘
- DOMAIN-SUFFIX,google.com.hk,ğŸ“¹ æ²¹ç®¡è§†é¢‘
- DOMAIN-SUFFIX,hegoogle.com.sgroku,ğŸ“¹ æ²¹ç®¡è§†é¢‘
- DOMAIN-SUFFIX,google.com.tw,ğŸ“¹ æ²¹ç®¡è§†é¢‘
- DOMAIN-SUFFIX,googleapis.com,ğŸ“¹ æ²¹ç®¡è§†é¢‘
- DOMAIN-SUFFIX,googleapis.cn,ğŸ“¹ æ²¹ç®¡è§†é¢‘
- DOMAIN-SUFFIX,googletagmanager.com,ğŸ“¹ æ²¹ç®¡è§†é¢‘
- DOMAIN-SUFFIX,googleusercontent.com,ğŸ“¹ æ²¹ç®¡è§†é¢‘
- DOMAIN-SUFFIX,googlevideo.com,ğŸ“¹ æ²¹ç®¡è§†é¢‘
- DOMAIN-SUFFIX,www.google.com,ğŸ“¹ æ²¹ç®¡è§†é¢‘
- DOMAIN-SUFFIX,translate.google.com,ğŸ“¹ æ²¹ç®¡è§†é¢‘
- DOMAIN-SUFFIX,voice.google.com,ğŸ“¹ æ²¹ç®¡è§†é¢‘

## ==========æ¸¸æˆè§„åˆ™==========
- DOMAIN-SUFFIX,epicgames.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,ol.epicgames.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,store.epicgames.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,www.epicgames.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,steamcontent.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,dl.steam.clngaa.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,dl.steam.ksyna.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,st.dl.bscstorage.net,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,st.dl.eccdnx.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,st.dl.pinyuncloud.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,test.steampowered.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,media.steampowered.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,cdn.cloudflare.steamstatic.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,cdn.akamai.steamstatic.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,steampowered.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,store.steampowered.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,cdn.mileweb.cs.steampowered.com.8686c.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,cdn-ws.content.steamchina.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,cdn-qc.content.steamchina.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,cdn-ali.content.steamchina.com,ğŸ® æ¸¸æˆå¹³å°
- DOMAIN-SUFFIX,epicgames-download1-1251447533.file.myqcloud.com,ğŸ® æ¸¸æˆå¹³å°

##åŸŸåç™½åå•/ä¸èµ°ä»£ç†çš„åŸŸå/ç›´è¿åˆ—è¡¨
##- DOMAIN-SUFFIX,alipay.com,DIRECT #åŒ¹é…åŸŸååç¼€(ç›´è¿)
##- DOMAIN-KEYWORD,google,DIRECT #åŒ¹é…åŸŸåå…³é”®å­—(ç›´è¿)
- DOMAIN-KEYWORD,alipay,DIRECT
- DOMAIN-KEYWORD,taobao,DIRECT
- DOMAIN-KEYWORD,aliexpress,DIRECT
- DOMAIN-KEYWORD,pinduoduo,DIRECT
- DOMAIN-KEYWORD,speedtest,DIRECT
- DOMAIN-KEYWORD,mxnas,DIRECT

#åŸŸåè§£æ
- DOMAIN-SUFFIX,api.cloudflare.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
##IPè·å–
- DOMAIN-SUFFIX,ip.cip.cc,DIRECT
- DOMAIN-SUFFIX,ip.3322.net,DIRECT
- DOMAIN-SUFFIX,myip.ipip.net,DIRECT
##https://api.ip.sb/ip
- DOMAIN-SUFFIX,api.ip.sb,DIRECT
##https://api-ipv4.ip.sb/ip
- DOMAIN-SUFFIX,api-ipv4.ip.sb,DIRECT
##http://members.3322.org/dyndns/getip
- DOMAIN-SUFFIX,members.3322.org,DIRECT
##icanhazip.com
- DOMAIN-SUFFIX,icanhazip.com,DIRECT
##cip.cc
- DOMAIN-SUFFIX,cip.cc,DIRECT


## DNS
- DOMAIN-SUFFIX,cloudflare-dns.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,dns.google,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,dns.adguard.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,doh.opendns.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©

##IPç™½åå•/ä¸èµ°ä»£ç†çš„IP/ç›´è¿åˆ—è¡¨
##- IP-CIDR,127.0.0.0/8,DIRECT #åŒ¹é…æ•°æ®ç›®æ ‡IP(ç›´è¿)
## VPN DDNSæœåŠ¡
- IP-CIDR,130.158.75.0/24,DIRECT
- IP-CIDR,130.158.6.0/24,DIRECT

##########################################################################################
##########################################################################################
